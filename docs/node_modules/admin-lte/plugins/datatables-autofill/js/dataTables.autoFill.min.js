/*! For license information please see dataTables.autoFill.min.js.LICENSE.txt */
!function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,o){return e||(e=window),o&&o.fn.dataTable||(o=require("datatables.net")(e,o).$),t(o,e,e.document)}:t(jQuery,window,document)}((function(t,e,o,i){var n=t.fn.dataTable,l=0,s=function(e,o){if(!n.versionCheck||!n.versionCheck("1.10.8"))throw"Warning: AutoFill requires DataTables 1.10.8 or greater";this.c=t.extend(!0,{},n.defaults.autoFill,s.defaults,o),this.s={dt:new n.Api(e),namespace:".autoFill"+l++,scroll:{},scrollInterval:null,handle:{height:0,width:0},enabled:!1},this.dom={handle:t('<div class="dt-autofill-handle"/>'),select:{top:t('<div class="dt-autofill-select top"/>'),right:t('<div class="dt-autofill-select right"/>'),bottom:t('<div class="dt-autofill-select bottom"/>'),left:t('<div class="dt-autofill-select left"/>')},background:t('<div class="dt-autofill-background"/>'),list:t('<div class="dt-autofill-list">'+this.s.dt.i18n("autoFill.info","")+"<ul/></div>"),dtScroll:null,offsetParent:null},this._constructor()};t.extend(s.prototype,{enabled:function(){return this.s.enabled},enable:function(t){var e=this;return!1===t?this.disable():(this.s.enabled=!0,this._focusListener(),this.dom.handle.on("mousedown",(function(t){return e._mousedown(t),!1})),this)},disable:function(){return this.s.enabled=!1,this._focusListenerRemove(),this},_constructor:function(){var e=this,o=this.s.dt,i=t("div.dataTables_scrollBody",this.s.dt.table().container());o.settings()[0].autoFill=this,i.length&&(this.dom.dtScroll=i,"static"===i.css("position")&&i.css("position","relative")),!1!==this.c.enable&&this.enable(),o.on("destroy.autoFill",(function(){e._focusListenerRemove()}))},_attach:function(e){var o=this.s.dt,i=o.cell(e).index(),n=this.dom.handle,l=this.s.handle;i&&-1!==o.columns(this.c.columns).indexes().indexOf(i.column)?(this.dom.offsetParent||(this.dom.offsetParent=t(o.table().node()).offsetParent()),l.height&&l.width||(n.appendTo("body"),l.height=n.outerHeight(),l.width=n.outerWidth()),o=this._getPosition(e,this.dom.offsetParent),this.dom.attachedTo=e,n.css({top:o.top+e.offsetHeight-l.height,left:o.left+e.offsetWidth-l.width}).appendTo(this.dom.offsetParent)):this._detach()},_actionSelector:function(e){var o=this,i=this.s.dt,n=s.actions,l=[];if(t.each(n,(function(t,o){o.available(i,e)&&l.push(t)})),1===l.length&&!1===this.c.alwaysAsk){var a=n[l[0]].execute(i,e);this._update(a,e)}else if(1<l.length){var r=this.dom.list.children("ul").empty();l.push("cancel"),t.each(l,(function(l,a){r.append(t("<li/>").append('<div class="dt-autofill-question">'+n[a].option(i,e)+"<div>").append(t('<div class="dt-autofill-button">').append(t('<button class="'+s.classes.btn+'">'+i.i18n("autoFill.button","&gt;")+"</button>").on("click",(function(){var l=n[a].execute(i,e,t(this).closest("li"));o._update(l,e),o.dom.background.remove(),o.dom.list.remove()})))))})),this.dom.background.appendTo("body"),this.dom.list.appendTo("body"),this.dom.list.css("margin-top",this.dom.list.outerHeight()/2*-1)}},_detach:function(){this.dom.attachedTo=null,this.dom.handle.detach()},_drawSelection:function(e){var o,i=this.s.dt,n=this.s.start,l=t(this.dom.start),s={row:this.c.vertical?i.rows({page:"current"}).nodes().indexOf(e.parentNode):n.row,column:this.c.horizontal?t(e).index():n.column},a=(e=i.column.index("toData",s.column),i.row(":eq("+s.row+")",{page:"current"}));(a=t(i.cell(a.index(),e).node()),i.cell(a).any()&&-1!==i.columns(this.c.columns).indexes().indexOf(e))&&(this.s.end=s,i=n.row<s.row?l:a,o=n.row<s.row?a:l,e=n.column<s.column?l:a,l=n.column<s.column?a:l,i=this._getPosition(i.get(0)).top,e=this._getPosition(e.get(0)).left,n=this._getPosition(o.get(0)).top+o.outerHeight()-i,l=this._getPosition(l.get(0)).left+l.outerWidth()-e,(s=this.dom.select).top.css({top:i,left:e,width:l}),s.left.css({top:i,left:e,height:n}),s.bottom.css({top:i+n,left:e,width:l}),s.right.css({top:i,left:e+l,height:n}))},_editor:function(t){var e=this.s.dt,o=this.c.editor;if(o){for(var n={},l=[],s=o.fields(),a=0,r=t.length;a<r;a++)for(var d=0,c=t[a].length;d<c;d++){var u=t[a][d],h=(f=e.settings()[0].aoColumns[u.index.column]).editField;if(h===i)for(var f=f.mData,m=0,p=s.length;m<p;m++){var v=o.field(s[m]);if(v.dataSrc()===f){h=v.name();break}}if(!h)throw"Could not automatically determine field data. Please see https://datatables.net/tn/11";n[h]||(n[h]={}),f=e.row(u.index.row).id(),n[h][f]=u.set,l.push(u.index)}o.bubble(l,!1).multiSet(n).submit()}},_emitEvent:function(e,o){this.s.dt.iterator("table",(function(i){t(i.nTable).triggerHandler(e+".dt",o)}))},_focusListener:function(){var e=this,i=this.s.dt,n=this.s.namespace,l=null!==this.c.focus?this.c.focus:i.init().keys||i.settings()[0].keytable?"focus":"hover";"focus"===l?i.on("key-focus.autoFill",(function(t,o,i){e._attach(i.node())})).on("key-blur.autoFill",(function(){e._detach()})):"click"===l?(t(i.table().body()).on("click"+n,"td, th",(function(){e._attach(this)})),t(o.body).on("click"+n,(function(o){t(o.target).parents().filter(i.table().body()).length||e._detach()}))):t(i.table().body()).on("mouseenter"+n,"td, th",(function(){e._attach(this)})).on("mouseleave"+n,(function(o){t(o.relatedTarget).hasClass("dt-autofill-handle")||e._detach()}))},_focusListenerRemove:function(){var e=this.s.dt;e.off(".autoFill"),t(e.table().body()).off(this.s.namespace),t(o.body).off(this.s.namespace)},_getPosition:function(e,o){var i,n=e,l=0,s=0;o||(o=t(t(this.s.dt.table().node())[0].offsetParent));do{var a=n.offsetTop,r=n.offsetLeft;if(i=t(n.offsetParent),l+=a+1*parseInt(i.css("border-top-width")),s+=r+1*parseInt(i.css("border-left-width")),"body"===n.nodeName.toLowerCase())break;n=i.get(0)}while(i.get(0)!==o.get(0));return{top:l,left:s}},_mousedown:function(i){var n=this,l=this.s.dt;this.dom.start=this.dom.attachedTo,this.s.start={row:l.rows({page:"current"}).nodes().indexOf(t(this.dom.start).parent()[0]),column:t(this.dom.start).index()},t(o.body).on("mousemove.autoFill",(function(t){n._mousemove(t)})).on("mouseup.autoFill",(function(t){n._mouseup(t)}));var s=this.dom.select;l=t(l.table().node()).offsetParent(),s.top.appendTo(l),s.left.appendTo(l),s.right.appendTo(l),s.bottom.appendTo(l),this._drawSelection(this.dom.start,i),this.dom.handle.css("display","none"),i=this.dom.dtScroll,this.s.scroll={windowHeight:t(e).height(),windowWidth:t(e).width(),dtTop:i?i.offset().top:null,dtLeft:i?i.offset().left:null,dtHeight:i?i.outerHeight():null,dtWidth:i?i.outerWidth():null}},_mousemove:function(t){var e=t.target.nodeName.toLowerCase();"td"!==e&&"th"!==e||(this._drawSelection(t.target,t),this._shiftScroll(t))},_mouseup:function(e){t(o.body).off(".autoFill");var n=this,l=this.s.dt;(s=this.dom.select).top.remove(),s.left.remove(),s.right.remove(),s.bottom.remove(),this.dom.handle.css("display","block");var s=this.s.start,a=this.s.end;if(s.row!==a.row||s.column!==a.column){var r=l.cell(":eq("+s.row+")",s.column+":visible",{page:"current"});if(t("div.DTE",r.node()).length){var d=l.editor();d.on("submitSuccess.dtaf close.dtaf",(function(){d.off(".dtaf"),setTimeout((function(){n._mouseup(e)}),100)})).on("submitComplete.dtaf preSubmitCancelled.dtaf close.dtaf",(function(){d.off(".dtaf")})),d.submit()}else{for(var c=this._range(s.row,a.row),u=(s=this._range(s.column,a.column),a=[],l.settings()[0]),h=u.aoColumns,f=l.columns(this.c.columns).indexes(),m=0;m<c.length;m++)a.push(t.map(s,(function(t){var e=l.row(":eq("+c[m]+")",{page:"current"}),o=(e=(t=l.cell(e.index(),t+":visible")).data(),t.index()),n=h[o.column].editField;if(n!==i&&(e=u.oApi._fnGetObjectDataFn(n)(l.row(o.row).data())),-1!==f.indexOf(o.column))return{cell:t,data:e,label:t.data(),index:o}})));this._actionSelector(a),clearInterval(this.s.scrollInterval),this.s.scrollInterval=null}}},_range:function(t,e){var o,i=[];if(t<=e)for(o=t;o<=e;o++)i.push(o);else for(o=t;o>=e;o--)i.push(o);return i},_shiftScroll:function(t){var e,i,n,l,s=this,a=this.s.scroll,r=!1,d=t.pageY-o.body.scrollTop,c=t.pageX-o.body.scrollLeft;65>d?e=-5:d>a.windowHeight-65&&(e=5),65>c?i=-5:c>a.windowWidth-65&&(i=5),null!==a.dtTop&&t.pageY<a.dtTop+65?n=-5:null!==a.dtTop&&t.pageY>a.dtTop+a.dtHeight-65&&(n=5),null!==a.dtLeft&&t.pageX<a.dtLeft+65?l=-5:null!==a.dtLeft&&t.pageX>a.dtLeft+a.dtWidth-65&&(l=5),e||i||n||l?(a.windowVert=e,a.windowHoriz=i,a.dtVert=n,a.dtHoriz=l,r=!0):this.s.scrollInterval&&(clearInterval(this.s.scrollInterval),this.s.scrollInterval=null),!this.s.scrollInterval&&r&&(this.s.scrollInterval=setInterval((function(){if(a.windowVert&&(o.body.scrollTop=o.body.scrollTop+a.windowVert),a.windowHoriz&&(o.body.scrollLeft=o.body.scrollLeft+a.windowHoriz),a.dtVert||a.dtHoriz){var t=s.dom.dtScroll[0];a.dtVert&&(t.scrollTop=t.scrollTop+a.dtVert),a.dtHoriz&&(t.scrollLeft=t.scrollLeft+a.dtHoriz)}}),20))},_update:function(t,e){if(!1!==t){var o,i=this.s.dt,n=i.columns(this.c.columns).indexes();if(this._emitEvent("preAutoFill",[i,e]),this._editor(e),null!==this.c.update?this.c.update:!this.c.editor){for(var l=0,s=e.length;l<s;l++)for(var a=0,r=e[l].length;a<r;a++)o=e[l][a],-1!==n.indexOf(o.index.column)&&o.cell.data(o.set);i.draw(!1)}this._emitEvent("autoFill",[i,e])}}}),s.actions={increment:{available:function(t,e){var o=e[0][0].label;return!isNaN(o-parseFloat(o))},option:function(t){return t.i18n("autoFill.increment",'Increment / decrement each cell by: <input type="number" value="1">')},execute:function(e,o,i){e=1*o[0][0].data,i=1*t("input",i).val();for(var n=0,l=o.length;n<l;n++)for(var s=0,a=o[n].length;s<a;s++)o[n][s].set=e,e+=i}},fill:{available:function(){return!0},option:function(t,e){return t.i18n("autoFill.fill","Fill all cells with <i>"+e[0][0].label+"</i>")},execute:function(t,e){for(var o=e[0][0].data,i=0,n=e.length;i<n;i++)for(var l=0,s=e[i].length;l<s;l++)e[i][l].set=o}},fillHorizontal:{available:function(t,e){return 1<e.length&&1<e[0].length},option:function(t){return t.i18n("autoFill.fillHorizontal","Fill cells horizontally")},execute:function(t,e){for(var o=0,i=e.length;o<i;o++)for(var n=0,l=e[o].length;n<l;n++)e[o][n].set=e[o][0].data}},fillVertical:{available:function(t,e){return 1<e.length},option:function(t){return t.i18n("autoFill.fillVertical","Fill cells vertically")},execute:function(t,e){for(var o=0,i=e.length;o<i;o++)for(var n=0,l=e[o].length;n<l;n++)e[o][n].set=e[0][n].data}},cancel:{available:function(){return!1},option:function(t){return t.i18n("autoFill.cancel","Cancel")},execute:function(){return!1}}},s.version="2.3.5",s.defaults={alwaysAsk:!1,focus:null,columns:"",enable:!0,update:null,editor:null,vertical:!0,horizontal:!0},s.classes={btn:"btn"};var a=t.fn.dataTable.Api;return a.register("autoFill()",(function(){return this})),a.register("autoFill().enabled()",(function(){var t=this.context[0];return!!t.autoFill&&t.autoFill.enabled()})),a.register("autoFill().enable()",(function(t){return this.iterator("table",(function(e){e.autoFill&&e.autoFill.enable(t)}))})),a.register("autoFill().disable()",(function(){return this.iterator("table",(function(t){t.autoFill&&t.autoFill.disable()}))})),t(o).on("preInit.dt.autofill",(function(e,o){if("dt"===e.namespace){var i=o.oInit.autoFill,l=n.defaults.autoFill;(i||l)&&(l=t.extend({},i,l),!1!==i&&new s(o,l))}})),n.AutoFill=s,n.AutoFill=s}));